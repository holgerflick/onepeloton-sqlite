{
  "queries": [
    {
      "number": 1,
      "title": "Overall Workout Statistics",
      "description": "Total workouts, calories, distance, and time",
      "sql": "SELECT COUNT(*) as total_workouts, SUM(calories_burned) as total_calories, ROUND(SUM(distance_km), 2) as total_distance_km, SUM(length_minutes) as total_minutes, ROUND(AVG(calories_burned), 1) as avg_calories_per_workout FROM workouts"
    },
    {
      "number": 2,
      "title": "Top 10 Instructors by Workout Count",
      "description": "Most frequent instructors with calorie stats",
      "sql": "SELECT i.name, COUNT(*) as workout_count, SUM(w.calories_burned) as total_calories, ROUND(AVG(w.calories_burned), 1) as avg_calories FROM workouts w JOIN classes c ON w.class_id = c.class_id JOIN instructors i ON c.instructor_id = i.instructor_id GROUP BY i.name ORDER BY workout_count DESC LIMIT 10"
    },
    {
      "number": 3,
      "title": "Workouts by Fitness Discipline",
      "description": "Breakdown of all workout types",
      "sql": "SELECT fd.name as discipline, COUNT(*) as workout_count, SUM(w.calories_burned) as total_calories, ROUND(AVG(w.length_minutes), 1) as avg_length_minutes FROM workouts w JOIN fitness_disciplines fd ON w.discipline_id = fd.discipline_id GROUP BY fd.name ORDER BY workout_count DESC"
    },
    {
      "number": 4,
      "title": "Monthly Workout Activity (Last 12 Months)",
      "description": "Workouts and calories by month",
      "sql": "SELECT strftime('%Y-%m', workout_timestamp) as month, COUNT(*) as workouts, SUM(calories_burned) as total_calories, ROUND(AVG(calories_burned), 1) as avg_calories FROM workouts WHERE workout_timestamp >= datetime('now', '-12 months') GROUP BY month ORDER BY month DESC"
    },
    {
      "number": 5,
      "title": "Workout Pattern by Day of Week",
      "description": "Which days you work out most",
      "sql": "SELECT CASE CAST(strftime('%w', workout_timestamp) AS INTEGER) WHEN 0 THEN 'Sunday' WHEN 1 THEN 'Monday' WHEN 2 THEN 'Tuesday' WHEN 3 THEN 'Wednesday' WHEN 4 THEN 'Thursday' WHEN 5 THEN 'Friday' WHEN 6 THEN 'Saturday' END as day_of_week, COUNT(*) as workouts, ROUND(AVG(calories_burned), 1) as avg_calories FROM workouts GROUP BY strftime('%w', workout_timestamp) ORDER BY CAST(strftime('%w', workout_timestamp) AS INTEGER)"
    },
    {
      "number": 6,
      "title": "Last 10 Workouts",
      "description": "Your most recent workout sessions",
      "sql": "SELECT datetime(w.workout_timestamp) as when_taken, COALESCE(ct.title, 'Just Ride') as title, COALESCE(i.name, 'N/A') as instructor, w.length_minutes as duration, w.calories_burned as calories FROM workouts w LEFT JOIN classes c ON w.class_id = c.class_id LEFT JOIN class_titles ct ON c.title_id = ct.title_id LEFT JOIN instructors i ON c.instructor_id = i.instructor_id ORDER BY w.workout_timestamp DESC LIMIT 10"
    },
    {
      "number": 7,
      "title": "Just Ride vs Classes Comparison",
      "description": "Compare free rides to structured classes",
      "sql": "SELECT CASE WHEN class_id IS NULL THEN 'Just Ride' ELSE 'Class' END as workout_type, COUNT(*) as workout_count, ROUND(AVG(calories_burned), 1) as avg_calories, ROUND(AVG(avg_watts), 1) as avg_watts, ROUND(AVG(distance_km), 2) as avg_distance FROM workouts w JOIN fitness_disciplines fd ON w.discipline_id = fd.discipline_id WHERE fd.name = 'Cycling' GROUP BY workout_type"
    },
    {
      "number": 8,
      "title": "Personal Records (20-min Cycling)",
      "description": "Top 5 highest calorie burns",
      "sql": "SELECT w.calories_burned, datetime(w.workout_timestamp) as workout_date, COALESCE(ct.title, 'Just Ride') as title, COALESCE(i.name, 'N/A') as instructor, w.avg_watts FROM workouts w LEFT JOIN classes c ON w.class_id = c.class_id LEFT JOIN class_titles ct ON c.title_id = ct.title_id LEFT JOIN instructors i ON c.instructor_id = i.instructor_id JOIN fitness_disciplines fd ON w.discipline_id = fd.discipline_id WHERE fd.name = 'Cycling' AND w.length_minutes = 20 ORDER BY w.calories_burned DESC LIMIT 5"
    },
    {
      "number": 9,
      "title": "Most Repeated Classes",
      "description": "Classes you've taken multiple times",
      "sql": "SELECT ct.title, i.name as instructor, COUNT(*) as times_taken, ROUND(AVG(w.calories_burned), 1) as avg_calories FROM workouts w JOIN classes c ON w.class_id = c.class_id JOIN class_titles ct ON c.title_id = ct.title_id JOIN instructors i ON c.instructor_id = i.instructor_id GROUP BY c.class_id HAVING times_taken > 1 ORDER BY times_taken DESC LIMIT 10"
    },
    {
      "number": 10,
      "title": "Live vs On-Demand Comparison",
      "description": "Performance in live vs recorded classes",
      "sql": "SELECT CASE WHEN is_live = 1 THEN 'Live' WHEN is_live = 0 THEN 'On Demand' END as class_type, COUNT(*) as workout_count, ROUND(AVG(calories_burned), 1) as avg_calories, SUM(calories_burned) as total_calories FROM workouts WHERE is_live IS NOT NULL GROUP BY is_live"
    }
  ]
}